{"version":3,"file":"contactRoute.js","names":["router","require","Router","nodemailer","post","req","res","data","body","name","length","email","message","json","msg","smtpTransporter","createTransport","service","port","auth","user","pass","mailOptions","from","to","subject","html","sendMail","error","status","module","exports"],"sources":["../../src/route/contactRoute.js"],"sourcesContent":["const router = require('express').Router();\r\nconst nodemailer = require(\"nodemailer\");\r\n\r\n\r\nrouter.post('/contact', (req, res) => {\r\n    let data = req.body;\r\n    if (data.name.length === 0 || data.email.length === 0 || data.message.length === 0) {\r\n        return res.json({ msg: \"please fill all the fields\" });\r\n\r\n    }\r\n    let smtpTransporter = nodemailer.createTransport({\r\n        service: 'Gmail',\r\n        port: 465,\r\n        auth: {\r\n            user: 'purposec60@gmail.com',\r\n            pass: 'Evergreen24'\r\n        }\r\n    })\r\n    let mailOptions = {\r\n        from: data.email,\r\n        to: 'purposec60@gmail.com',\r\n        subject: `message from ${data.name}`,\r\n        html: `\r\n\r\n            <h3>Informations</h3>\r\n            <ul>\r\n            <li>Name: ${data.name}</li>\r\n            <li>Email: ${data.email}</li>\r\n            </ul>\r\n            <h3>Message</h3>\r\n            <p>${data.message}</p>\r\n            `\r\n    }\r\n\r\n    smtpTransporter.sendMail(mailOptions, (error) => {\r\n        try {\r\n            if (error)\r\n                return res.status(400).json({ msg: \"Please fill all the fields\" });\r\n            res.status(200).json({ msg: \"Thank you for contacting Infiniteltd\" });\r\n\r\n        } catch (error) {\r\n            if (error)\r\n                return res.status(500).json({ msg: \"There is server error\" });\r\n        }\r\n    });\r\n});\r\nmodule.exports = router;"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACC,MAAM,EAAE;AAC1C,MAAMC,UAAU,GAAGF,OAAO,CAAC,YAAY,CAAC;AAGxCD,MAAM,CAACI,IAAI,CAAC,UAAU,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAClC,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;EACnB,IAAID,IAAI,CAACE,IAAI,CAACC,MAAM,KAAK,CAAC,IAAIH,IAAI,CAACI,KAAK,CAACD,MAAM,KAAK,CAAC,IAAIH,IAAI,CAACK,OAAO,CAACF,MAAM,KAAK,CAAC,EAAE;IAChF,OAAOJ,GAAG,CAACO,IAAI,CAAC;MAAEC,GAAG,EAAE;IAA6B,CAAC,CAAC;EAE1D;EACA,IAAIC,eAAe,GAAGZ,UAAU,CAACa,eAAe,CAAC;IAC7CC,OAAO,EAAE,OAAO;IAChBC,IAAI,EAAE,GAAG;IACTC,IAAI,EAAE;MACFC,IAAI,EAAE,sBAAsB;MAC5BC,IAAI,EAAE;IACV;EACJ,CAAC,CAAC;EACF,IAAIC,WAAW,GAAG;IACdC,IAAI,EAAEhB,IAAI,CAACI,KAAK;IAChBa,EAAE,EAAE,sBAAsB;IAC1BC,OAAO,EAAG,gBAAelB,IAAI,CAACE,IAAK,EAAC;IACpCiB,IAAI,EAAG;AACf;AACA;AACA;AACA,wBAAwBnB,IAAI,CAACE,IAAK;AAClC,yBAAyBF,IAAI,CAACI,KAAM;AACpC;AACA;AACA,iBAAiBJ,IAAI,CAACK,OAAQ;AAC9B;EACI,CAAC;EAEDG,eAAe,CAACY,QAAQ,CAACL,WAAW,EAAGM,KAAK,IAAK;IAC7C,IAAI;MACA,IAAIA,KAAK,EACL,OAAOtB,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;QAAEC,GAAG,EAAE;MAA6B,CAAC,CAAC;MACtER,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;QAAEC,GAAG,EAAE;MAAuC,CAAC,CAAC;IAEzE,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZ,IAAIA,KAAK,EACL,OAAOtB,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;QAAEC,GAAG,EAAE;MAAwB,CAAC,CAAC;IACrE;EACJ,CAAC,CAAC;AACN,CAAC,CAAC;AACFgB,MAAM,CAACC,OAAO,GAAG/B,MAAM"}